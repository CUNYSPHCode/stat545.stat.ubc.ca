---
title: "STAT 545A Assignment 02: Explore Gapminder and use dplyr"
---

__Due September 24, 2019 at 23:59__

## Objective

The goal is to explore a dataset. In particular, to begin to establish a workflow for data frames or "tibbles". You will use `dplyr` and `ggplot2` to do some description and visualization.

## Tidy Submission (10%)

#### Mechanics (5%)

Follow the instructions for making a tidy submission, found on the [assignments home page](https://stat545.stat.ubc.ca/evaluation/assignments).

If there's any further uncertainty in determining a grade for this "mechanics" portion, the [UBC MDS mechanics rubric](https://github.com/UBC-MDS/public/blob/master/rubric/rubric_mech.md) will be referred to.

#### Writing (5%)

- You must use proper English, spelling, and grammar.
- You should write concisely. 
- If there's any further uncertainty in determining a grade here, the [UBC MDS writing rubric](https://github.com/UBC-MDS/public/blob/master/rubric/rubric_writing.md) will be used.

## Bring rectangular data in

Work with the `gapminder` data we explored in class. *If you really want to, you can explore a different dataset. Self-assess the suitability of your dataset by reading [this issue](https://github.com/STAT545-UBC/Discussion/issues/115), and if you still aren't sure if it's suitable, send Vincenzo an email.*

The Gapminder data is distributed as an R package from [CRAN](https://cran.r-project.org/web/packages/gapminder/index.html). Install it if you have not done so already, by executing the code `install.packages("gapminder")`, and remember to load it with `library(gapminder)`.

Install and load `dplyr`. Probably via the `tidyverse` meta-package.

## Explore individual variables

Pick __at least__ one categorical variable and at least one quantitative variable to explore.

* What are possible values (or range, whichever is appropriate) of each variable?
* What values are typical? What's the spread? What's the distribution? Etc., tailored to the variable at hand.
* Feel free to use summary stats, tables, figures. We're NOT expecting high production value (yet).

## Explore various plot types

Make a few plots, probably of the same variable you chose to characterize numerically. You can use the plot types we went over in class (cm005) to get an idea of what you'd like to make. Try to explore more than one plot type. **Just as an example** of what I mean:

* A scatterplot of two quantitative variables.
* A plot of one quantitative variable. Maybe a histogram or densityplot or frequency polygon.
* A plot of one quantitative variable and one categorical. Maybe boxplots for several continents or countries.

You don't have to use all the data in every plot! It's fine to filter down to one country or small handful of countries.

## Use `filter()`, `select()` and `%>%`

Use `filter()` to create data subsets that you want to plot.

Practice piping together `filter()` and `select()`. Possibly even piping into `ggplot()`.

filter gapminder to a country of your choice (not Rwanda, as done in class).

filter gapminder to three countries of your choice, and subset to the "country", "year", and "life expectancy" columns. Be sure to use at least one pipe, and `dplyr` functions in each step.

filter gapminder to all drops in life expectancy. Be sure to include a new variable that's the increase in life expectancy. 

filter gapminder to return the max GDP per capita experienced by each country.

sort the tibble so that it shows the highest life expectancy as the first row, and decreases from there.

## Recycling (Optional)

*For people who want to take things further.*

Evaluate this code and describe the result. Presumably the analyst's intent was to get the data for Rwanda and Afghanistan. Did they succeed? Why or why not? If not, what is the correct way to do this?

```
filter(gapminder, country == c("Rwanda", "Afghanistan"))
```

Read [What I do when I get a new data set as told through tweets](http://simplystatistics.org/2014/06/13/what-i-do-when-i-get-a-new-data-set-as-told-through-tweets/) from [SimplyStatistics](http://simplystatistics.org) to get some ideas!

## Tibble display (Optional)

Present numerical tables in a more attractive form using `knitr::kable()` for small tibbles (say, up to 10 rows), and `DT::datatable()` for larger tibbles..

Adapt exercises from the chapters in the "Explore" section of [R for Data Science](http://r4ds.had.co.nz) to the Gapminder dataset.
